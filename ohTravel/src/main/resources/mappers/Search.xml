<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.ohTravel.Search">

	<select id="yqTicketList" parameterType="java.lang.String" resultType="Ticket">
		Select distinct td.ticket_id, city_id, ticket_name, ticket_adult_price, ti.ticket_rep_img_path, ti.ticket_detail_img_path
		FROM (ticket_detail td left join ticket_img ti on td.ticket_id = ti.ticket_id)
		Where ticket_name LIKe concat('%', #{search_word}, '%')
	</select> 

	<select id="yqHotelList" parameterType="java.lang.String" resultType="Hotel">
		Select distinct h.hotel_id, h.city_id, c.city_name, hotel_eng, hotel_loc, hotel_type, hotel_grade, hotel_score, h_l_img_path, h_s_img_path
		FROM (hotel h left join hotel_image hi on h.hotel_id = hi.hotel_id) left join city c on c.city_id = h.city_id
		Where hotel_kor LIKe concat('%', #{search_word}, '%')
	</select>

	<!-- 패키지 + 패키지 이미지 + 패키지 디테일 가져오기 -->
	<select id="yqPkageList" parameterType="java.lang.String" resultType="PkageDTO">
		Select distinct p.pkage_id, city_id, pkage_name, pkage_info, pkage_soldCnt, pkage_score, pkage_Img_path pkage_dt_Aprice 
		FROM (package p left join package_image pi on p.pkage_id = pi.pkage_id) left join package_detail pd on p.pkage_id = pd.pkage_id
		Where pkage_name LIKe concat('%', #{search_word}, '%')
	</select>

</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.ohTravel.Member">
	<!-- 로그인 -->
	<select id="login" parameterType="MemberDTO" resultType="MemberDTO">
		SELECT *
		FROM MEMBER
		WHERE mem_id = #{mem_id}
		AND mem_password = #{mem_password}
	</select>
	
	<!-- 회원가입 -->
	<insert id="register" parameterType="MemberDTO">
		INSERT INTO MEMBER (
							mem_id,
							mem_name,
							mem_password,
							mem_email,
							mem_tel,
							mem_birthday,
							mem_create,
							mem_role	)
					VALUES(
							#{mem_id},
							#{mem_name},
							#{mem_password},
							#{mem_email},
							#{mem_tel},
							#{mem_birthday},
							now(),
							#{mem_role}	)
	</insert>
	
	<!-- 회원 탈퇴 -->
	<delete id="deleteMember" parameterType="MemberDTO"> 
		DELETE FROM MEMBER
		WHERE mem_id = #{mem_id}
		AND	mem_password = #{mem_password}
	</delete>
	
	<!-- 티켓 예약 내역 조회 -->
	<select id="ticketReservList" resultType="TicketReservationDTO" parameterType="TicketReservationDTO">
		SELECT * FROM ticket_reservation WHERE mem_id = #{mem_id}
	</select>
	
	<!-- 항공 예약 내역 조회 -->
	<select id="airReservList" resultType="AirReservationDTO" parameterType="AirReservationDTO">
		SELECT * FROM reservation WHERE mem_id = #{mem_id}
	</select>
	
	<!-- 호텔 예약 내역 조회 -->
	<select id="hotelReservList" resultType="HotelReservationDTO" parameterType="HotelReservationDTO">
		SELECT * FROM hotel_reservation WHERE mem_id = #{mem_id}
	</select>
	
	<!-- 패키지 예약 내역 조회 -->
	<select id="packageReservList" resultType="PackageReservationDTO" parameterType="PackageReservationDTO">
		SELECT * FROM package_reservation WHERE mem_id = #{mem_id}
	</select>
	
</mapper>